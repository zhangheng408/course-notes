1. 错误容忍技术
    1. 冗余：信息、时间、物理
    2. 恢复：检查点、日志 
2. 副本一致性
    1. 只读内容，直接多副本，提升局部性（客户访问最近的服务器）、可用性
    2. 读写内容
        1. 严格一致：读到的都是最新的
        2. 顺序一致：所有节点看到相同的操作顺序
            1. 可能出现a先写b后写，但是a节点较远，导致大家都先看到b再看到a
        3. Causal Consistency因果一致性
            1. 所有节点都看到符合因果相关顺序的操作
            2. a写之后，b读到再写，那a与b之间就有因果关系
            3. 其他节点不可以先看到b写的内容，再看到a写的内容
        4. 最终一致性
            1. 所有节点最终会看到所有写
    4. 副本策略
        1. 复制状态/操作
            1. 只传递更新通知(如inv操作)
            2. 传输数据？
            3. 传输更新操作？
        2. push/pull
            1. pull如cache
            2. push如hdfs，有状态
3. 主从副本模型
    1. 携程写协议
        1. 只向主节点写
        2. 所有从节点都写成功，才向client返回
    2. Local-Write P-B Protocol
        1. 只向主节点写
        2. 但是只写完主节点，就返回
        3. 主节点自己负责同步
    3. 可以容忍N-1个失败
    4. 但是检测失败需要一定时间
4. 一致副本模型
    1. 2f+1个机器，容忍f个失败
    2. 简化为基本的Paxos
    3. 正确性：只有一个值被选定，机器只能学习到选定的值
    4. Liveness：肯定有部分值被选定，
    5. Impossibility Result
        1. Fischer-Lynch-Paterson Result
        2. 异步系统不可能同时对布尔值达成一致，即使只有一个机器发生了未宣布的失败
    6. paxos组件
        1. Proposers：提议值；接收客户端请求
        2. Acceptors：回复提议者；存储值
        3. Learner：暂不考虑
    7. 一些问题
        1. 不能信任单个节点：都可以提议
        2. 多个协调者并发：达成多数
        3. 分割投票无法一致：接收者允许更新他们的值？？？
        4. 冲突选项：优先更高的lamport时钟
    8. Single Decree Paxos
        1. 提议
            1. 提议者选定议案号n，广播prepare(n)
            2. 接受者只同意最大的提案号，其他都拒接；同时保存目前的提案号(minProposal) 
        2. 接受
            1. 提议者等待多数的prepare回复，成功则广播accept(n)
            2. 接受者只同意最大的提案号，其他都拒绝；同时保存目前提案号(minProposal/acceptedProposal)和接受值
        3. 决策
            1. 提案者收到多数同意，则值被选定；否则重启流程
    9. Multi Paxos 没怎么看懂
    10. 复杂(corner case)，